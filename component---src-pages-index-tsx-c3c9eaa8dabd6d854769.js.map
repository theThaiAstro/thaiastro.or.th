{"version":3,"file":"component---src-pages-index-tsx-c3c9eaa8dabd6d854769.js","mappings":"wNACW,EAAa,uCACbA,EAAkB,4CAClBC,EAAe,yCCgE1B,EAzCoC,SAACC,GACpC,IAAQC,EAAaD,EAAbC,SAGR,OAAQD,EAAME,MACb,IAAK,UAAW,OAMjB,SAAoBC,EAAyBF,GAC5C,IAAMG,EAAeC,GAAAA,CAAGC,EAAmBN,EAAMO,WAEjD,OAAQJ,GACP,KAAK,EAAG,OAAO,sBAAII,UAAWH,GAAeH,GAC7C,KAAK,EAAG,OAAO,sBAAIM,UAAWH,GAAeH,GAC7C,KAAK,EAAG,OAAO,sBAAIM,UAAWH,GAAeH,GAC7C,KAAK,EAAG,OAAO,sBAAIM,UAAWH,GAAeH,GAC7C,KAAK,EAAG,OAAO,sBAAIM,UAAWH,GAAeH,GAC7C,KAAK,EAAG,OAAO,sBAAIM,UAAWH,GAAeH,IAfvBO,CAAWR,EAAMG,MAAOF,GAC/C,IAAK,OAAQ,OAkBd,SAAiBA,EAAkBQ,EAA2BC,GAC7D,IAAMN,EAAeC,GAAAA,CAAGC,EAAmBK,EAAWF,GAAUT,EAAMO,WAEtE,OAAIG,EAAe,uBAAKH,UAAWH,GAAeH,GACtC,wBAAMM,UAAWH,GAAeH,GAE5C,SAASU,EAAWF,GAEnB,OAAQA,GACP,IAAK,QAAS,OAAOH,EACrB,IAAK,WAAY,OAAOA,EACxB,QAAS,SA7BSM,CAAQX,EAAUD,EAAMS,QAAST,EAAMU,QAC3D,QAAS,OAAO,gCAAGT,M,kFCuCrB,UAxD4C,SAACD,GAAW,IAAD,MAGhDa,EAAa,UAAGb,MAAAA,OAAH,EAAGA,EAAOa,qBAAV,QAA2B,GACxCC,EAAU,UAAGd,MAAAA,OAAH,EAAGA,EAAOe,YAAV,QAAkB,GAC5BC,EAAc,UAAGhB,MAAAA,OAAH,EAAGA,EAAOiB,gBAAV,QAAsB,GAEpCC,EAAyBL,EAAcM,KAAI,qBAAGC,MAE9CC,EAAkB,SAAC,GAAD,IAAGD,EAAH,EAAGA,GAAH,OAAkBF,EAAuBI,SAASF,IACpEG,EAAY,SAACC,EAAQC,GAAT,OAAuBA,EAAI,GACvCC,EAAgB,SAACC,GAAD,OACrB,gBAAC,KAAD,CAAMC,IAAKD,EAAKP,GAAIb,UAAU,cAAcsB,GAAIF,EAAKG,OAAOC,MAC3D,gBAAC,KAAD,CAAaJ,KAAMA,MAIfK,EAAuB,WAC5B,OAAO,2BAASzB,UAAU,iBAAiBM,EAAcM,IAAIO,KAGxDO,EAAc,WACnB,OACC,2BAAS1B,UAAU,oBAClB,gBAAC,IAAD,CAAYL,KAAK,UAAUC,MAAO,EAAGI,UAAU,WAA/C,QAGA,uBAAKA,UAAU,QAAQO,EAAWoB,OAAOb,GAAiBa,OAAOX,GAAWJ,IAAIO,MAK7ES,EAAkB,WACvB,OACC,2BAAS5B,UAAU,oBAClB,gBAAC,IAAD,CAAYL,KAAK,UAAUC,MAAO,EAAGI,UAAU,WAA/C,UAGA,uBAAKA,UAAU,YACbS,EAAekB,OAAOb,GAAiBa,OAAOX,GAAWJ,IAAIO,MAMlE,OACC,gBAAC,IAAD,CAAcU,iBAAe,GAC5B,wBAAMhB,GAAG,YACR,gBAACY,EAAD,MACA,gBAACC,EAAD,MACA,gBAACE,EAAD,U,mDCvCJ,UAR+B,SAAC,GAAD,gBAAGE,EAAH,EAAGA,KAAH,OAC9B,gBAAC,UAAD,CACCxB,cAAa,UAAEwB,MAAAA,GAAF,UAAEA,EAAMxB,qBAAR,aAAE,EAAqByB,aAAvB,QAAgC,GAC7CrB,SAAQ,UAAEoB,MAAAA,GAAF,UAAEA,EAAMpB,gBAAR,aAAE,EAAgBqB,aAAlB,QAA2B,GACnCvB,KAAI,UAAEsB,MAAAA,GAAF,UAAEA,EAAMtB,YAAR,aAAE,EAAYuB,aAAd,QAAuB","sources":["webpack://the-thai-astronomical-society/./src/components/Typography/Typography.module.scss","webpack://the-thai-astronomical-society/./src/components/Typography/Typography.tsx","webpack://the-thai-astronomical-society/./src/pages/Index/IndexView.tsx","webpack://the-thai-astronomical-society/./src/pages/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var Typography = \"Typography-module--Typography--2FKQx\";\nexport var VariantSubExtra = \"Typography-module--VariantSubExtra--2Vk0n\";\nexport var VariantExtra = \"Typography-module--VariantExtra--1mXL9\";","import cx from 'classnames';\nimport React from 'react';\n\nimport * as styles from './Typography.module.scss';\n\ntype Heading = {\n\ttype: 'heading';\n\tlevel: 1 | 2 | 3 | 4 | 5 | 6;\n};\n\ntype Text = {\n\ttype: 'text';\n\tuseDiv?: boolean;\n\tvariant?: 'extra' | 'subextra';\n};\n\ntype ReactProps = {\n\tchildren: string;\n};\n\ntype OwnProps = {\n\tclassName?: string;\n};\n\ntype Props = (Heading | Text) & ReactProps & OwnProps;\n\nconst Typography: React.FC<Props> = (props) => {\n\tconst { children } = props;\n\n\t// prettier-ignore\n\tswitch (props.type) {\n\t\tcase 'heading': return getHeading(props.level, children);\n\t\tcase 'text': return getText(children, props.variant, props.useDiv);\n\t\tdefault: return <>{children}</>;\n\t}\n\n\t// prettier-ignore\n\tfunction getHeading(level: Heading['level'], children: string) {\n\t\tconst elementClass = cx(styles.Typography, props.className);\n\n\t\tswitch (level) {\n\t\t\tcase 1: return <h1 className={elementClass}>{children}</h1>;\n\t\t\tcase 2: return <h2 className={elementClass}>{children}</h2>;\n\t\t\tcase 3: return <h3 className={elementClass}>{children}</h3>;\n\t\t\tcase 4: return <h4 className={elementClass}>{children}</h4>;\n\t\t\tcase 5: return <h5 className={elementClass}>{children}</h5>;\n\t\t\tcase 6: return <h6 className={elementClass}>{children}</h6>;\n\t\t}\n\t}\n\n\tfunction getText(children: string, variant?: Text['variant'], useDiv?: boolean) {\n\t\tconst elementClass = cx(styles.Typography, getVariant(variant), props.className);\n\n\t\tif (useDiv) return <div className={elementClass}>{children}</div>;\n\t\telse return <span className={elementClass}>{children}</span>;\n\n\t\tfunction getVariant(variant?: Text['variant']) {\n\t\t\t// prettier-ignore\n\t\t\tswitch (variant) {\n\t\t\t\tcase 'extra': return styles.VariantExtra;\n\t\t\t\tcase 'subextra': return styles.VariantSubExtra;\n\t\t\t\tdefault: return;\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport default Typography;\n","import { Link } from 'gatsby';\nimport * as React from 'react';\n\nimport ArticleCard from '../../components/ArticleCard/ArticleCard';\nimport Typography from '../../components/Typography/Typography';\nimport GlobalLayout from '../../layout/GlobalLayout/GlobalLayout';\nimport { Mdx } from '../../models/Mdx';\n\nimport './IndexView.scss';\n\nexport interface IndexViewProps {\n\tlatestStories: Mdx[];\n\tnews: Mdx[];\n\tarticles: Mdx[];\n}\n\nconst IndexView: React.FC<IndexViewProps> = (props) => {\n\t// const { edges: featuredPosts } = data.featuredPost;\n\n\tconst latestStories = props?.latestStories ?? [];\n\tconst latestNews = props?.news ?? [];\n\tconst latestArticles = props?.articles ?? [];\n\n\tconst alreadyShownStoriesIds = latestStories.map(({ id }) => id);\n\n\tconst hasNotBeenShown = ({ id }: Mdx) => !alreadyShownStoriesIds.includes(id);\n\tconst firstFive = (_: any, i: number) => i < 5;\n\tconst toArticleCard = (node: Mdx) => (\n\t\t<Link key={node.id} className=\"ArticleLink\" to={node.fields.slug}>\n\t\t\t<ArticleCard node={node} />\n\t\t</Link>\n\t);\n\n\tconst LatestStoriesSection = () => {\n\t\treturn <section className=\"LatestStories\">{latestStories.map(toArticleCard)}</section>;\n\t};\n\n\tconst NewsSection = () => {\n\t\treturn (\n\t\t\t<section className=\"SectionContainer\">\n\t\t\t\t<Typography type=\"heading\" level={2} className=\"Heading\">\n\t\t\t\t\tข่าว\n\t\t\t\t</Typography>\n\t\t\t\t<div className=\"News\">{latestNews.filter(hasNotBeenShown).filter(firstFive).map(toArticleCard)}</div>\n\t\t\t</section>\n\t\t);\n\t};\n\n\tconst ArticlesSection = () => {\n\t\treturn (\n\t\t\t<section className=\"SectionContainer\">\n\t\t\t\t<Typography type=\"heading\" level={2} className=\"Heading\">\n\t\t\t\t\tบทความ\n\t\t\t\t</Typography>\n\t\t\t\t<div className=\"Articles\">\n\t\t\t\t\t{latestArticles.filter(hasNotBeenShown).filter(firstFive).map(toArticleCard)}\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t);\n\t};\n\n\treturn (\n\t\t<GlobalLayout noDefaultMargin>\n\t\t\t<main id=\"MainPage\">\n\t\t\t\t<LatestStoriesSection />\n\t\t\t\t<NewsSection />\n\t\t\t\t<ArticlesSection />\n\t\t\t</main>\n\t\t</GlobalLayout>\n\t);\n};\n\nexport default IndexView;\n","import { graphql } from 'gatsby';\nimport React from 'react';\n\nimport { Mdx } from '../models/Mdx';\n\nimport IndexView from './Index/IndexView';\n\ntype Node = {\n\tnodes: Mdx[];\n};\n\ntype Props = {\n\tdata: {\n\t\tlatestStories: Node;\n\t\tnews: Node;\n\t\tarticles: Node;\n\t};\n};\n\nconst Index: React.FC<Props> = ({ data }) => (\n\t<IndexView\n\t\tlatestStories={data?.latestStories?.nodes ?? []}\n\t\tarticles={data?.articles?.nodes ?? []}\n\t\tnews={data?.news?.nodes ?? []}\n\t/>\n);\n\nexport default Index;\n\nexport const IndexQuery = graphql`\n\tquery IndexQuery {\n\t\tlatestStories: allMdx(\n\t\t\tsort: { order: DESC, fields: frontmatter___date }\n\t\t\tlimit: 5\n\t\t\tfilter: { frontmatter: { isFeatured: { ne: true }, isUnpublished: { ne: true } } }\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tfrontmatter {\n\t\t\t\t\tdate\n\t\t\t\t\tauthors {\n\t\t\t\t\t\tname {\n\t\t\t\t\t\t\tth\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfeaturedImage {\n\t\t\t\t\t\tchildImageSharp {\n\t\t\t\t\t\t\tgatsbyImageData(layout: FULL_WIDTH, placeholder: BLURRED)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tisFeatured\n\t\t\t\t\tisUnpublished\n\t\t\t\t\ttitle\n\t\t\t\t}\n\t\t\t\tfields {\n\t\t\t\t\tslug\n\t\t\t\t\tsourceInstanceName\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tnews: allMdx(\n\t\t\tsort: { order: DESC, fields: frontmatter___date }\n\t\t\tlimit: 10\n\t\t\tfilter: {\n\t\t\t\tfrontmatter: { isFeatured: { ne: true }, isUnpublished: { ne: true } }\n\t\t\t\tfields: { sourceInstanceName: { eq: \"news\" } }\n\t\t\t}\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tfrontmatter {\n\t\t\t\t\tdate\n\t\t\t\t\tauthors {\n\t\t\t\t\t\tname {\n\t\t\t\t\t\t\tth\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfeaturedImage {\n\t\t\t\t\t\tchildImageSharp {\n\t\t\t\t\t\t\tgatsbyImageData(layout: FULL_WIDTH, placeholder: BLURRED)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tisFeatured\n\t\t\t\t\tisUnpublished\n\t\t\t\t\ttitle\n\t\t\t\t}\n\t\t\t\tfields {\n\t\t\t\t\tslug\n\t\t\t\t\tsourceInstanceName\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tarticles: allMdx(\n\t\t\tsort: { order: DESC, fields: frontmatter___date }\n\t\t\tlimit: 10\n\t\t\tfilter: {\n\t\t\t\tfrontmatter: { isFeatured: { ne: true }, isUnpublished: { ne: true } }\n\t\t\t\tfields: { sourceInstanceName: { eq: \"articles\" } }\n\t\t\t}\n\t\t) {\n\t\t\tnodes {\n\t\t\t\tid\n\t\t\t\tfrontmatter {\n\t\t\t\t\tdate\n\t\t\t\t\tauthors {\n\t\t\t\t\t\tname {\n\t\t\t\t\t\t\tth\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfeaturedImage {\n\t\t\t\t\t\tchildImageSharp {\n\t\t\t\t\t\t\tgatsbyImageData(layout: FULL_WIDTH, placeholder: BLURRED)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tisFeatured\n\t\t\t\t\tisUnpublished\n\t\t\t\t\ttitle\n\t\t\t\t}\n\t\t\t\tfields {\n\t\t\t\t\tslug\n\t\t\t\t\tsourceInstanceName\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n"],"names":["VariantSubExtra","VariantExtra","props","children","type","level","elementClass","cx","styles","className","getHeading","variant","useDiv","getVariant","getText","latestStories","latestNews","news","latestArticles","articles","alreadyShownStoriesIds","map","id","hasNotBeenShown","includes","firstFive","_","i","toArticleCard","node","key","to","fields","slug","LatestStoriesSection","NewsSection","filter","ArticlesSection","noDefaultMargin","data","nodes"],"sourceRoot":""}